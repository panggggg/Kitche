{"remainingRequest":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\panggggg\\Workshop2\\kitche-project\\src\\components\\cards\\MenuPage-card.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\panggggg\\Workshop2\\kitche-project\\src\\components\\cards\\MenuPage-card.vue","mtime":1635529297375},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\css-loader\\dist\\cjs.js","mtime":1635510262771},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1635510270514},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\postcss-loader\\src\\index.js","mtime":1635510265714},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635510260447},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\vue-loader\\lib\\index.js","mtime":1635510266827}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubWVudXsNCiAgICBmb250LWZhbWlseTogJ0F0aGl0aSc7DQp9DQo="},{"version":3,"sources":["MenuPage-card.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA","file":"MenuPage-card.vue","sourceRoot":"src/components/cards","sourcesContent":["<template>\r\n  <div class=\"pb-3\">\r\n    <b-row cols=\"4\">\r\n          <b-col>\r\n          <h1 :style=\"{ fontFamily: 'Athiti', fontSize: '70px'}\" >เมนูอาหาร</h1>\r\n          </b-col>\r\n          <b-col>\r\n          </b-col>\r\n          <b-col>\r\n          </b-col>\r\n          <b-col class=\"mt-3 ml-10\">\r\n          <b-row>\r\n          <b-col>\r\n          <span><b-form-input size=\"sm\" class=\"mr-sm-2 w-200 mt-3 mb-2\" style=\"font-family: Athiti\" placeholder=\"ค้นหาเมนูอาหาร\" v-model=\"searchQuery\">\r\n            <span>\r\n             <b-button size=\"sm\" class=\"mr-150\" :style=\"{backgroundColor: '#8A736C'}\">\r\n            <i class=\"fas fa-search\"></i>\r\n          </b-button>\r\n          </span></b-form-input></span>\r\n          </b-col>\r\n          \r\n          </b-row>\r\n          </b-col>\r\n        </b-row>\r\n\r\n                <b-row cols=\"4\" class=\"ml-5 justify-item-center\">\r\n                    <b-col v-for=\"menu in resultQuery\" :key=\"menu\">\r\n                        <div class=\"menu text-center\">\r\n                            <b-card\r\n                            :title= menu.menu_name\r\n                            :img-src=\"menu.pic_url\"\r\n                            style=\"max-width: 30rem;\"\r\n                            class=\"mb-2\"\r\n                        >\r\n                        <b-row>\r\n                         \r\n                          <b-col>\r\n                       <b-button size=\"sm\" @click=\"cooking(menu.menu_name, menu._id)\" id=\"menu.menu_name\" style=\"background-color:#8A736C\">สูตรอาหาร</b-button>\r\n                          </b-col>\r\n                        </b-row>\r\n                        </b-card>\r\n                            </div>\r\n                    </b-col>\r\n                </b-row>\r\n\r\n\r\n            </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Router from 'vue-router'\r\nconst router = new Router({\r\n    mode: \"history\"\r\n})\r\n\r\nexport default {\r\n    name: 'MenuPageCard',\r\n    components: {\r\n    },\r\n    data(){\r\n      return{\r\n          allMenu: [],\r\n          username: '',\r\n          searchQuery: ''\r\n      }\r\n  },\r\n  methods: {\r\n    cooking(paramMenuName, id){\r\n      router.push(`/cooking/${paramMenuName}/${id}`)\r\n      router.go()\r\n    },\r\n  },\r\n  mounted() {\r\n    axios\r\n    .get('http://localhost:8000/menus')\r\n    .then(res => {\r\n      this.allMenu = res.data\r\n      // console.log(this.allMenu)\r\n    })\r\n\r\n    axios.get('http://localhost:8000/user', {headers: {token: localStorage.getItem('token')}})\r\n        .then(res => {\r\n            this.username = res.data.user.username\r\n        })\r\n  },\r\n  computed: {\r\n    resultQuery(){\r\n      if(this.searchQuery){\r\n        return this.allMenu.filter(item => {\r\n          return this.searchQuery\r\n          .toLowerCase()\r\n          .split(\" \")\r\n          .every(v => item.menu_name.toLowerCase().includes(v))\r\n        })\r\n      }\r\n      else {\r\n        return this.allMenu\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.menu{\r\n    font-family: 'Athiti';\r\n}\r\n</style>"]}]}