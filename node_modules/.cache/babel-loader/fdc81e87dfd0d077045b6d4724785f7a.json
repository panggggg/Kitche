{"remainingRequest":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\babel-loader\\lib\\index.js!D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\panggggg\\Workshop2\\kitche-project\\src\\components\\cards\\MenuPage-card.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\panggggg\\Workshop2\\kitche-project\\src\\components\\cards\\MenuPage-card.vue","mtime":1635529297375},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635510260447},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\babel-loader\\lib\\index.js","mtime":1635510265794},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635510260447},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\vue-loader\\lib\\index.js","mtime":1635510266827}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CnZhciByb3V0ZXIgPSBuZXcgUm91dGVyKHsKICBtb2RlOiAiaGlzdG9yeSIKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWVudVBhZ2VDYXJkJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxsTWVudTogW10sCiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgc2VhcmNoUXVlcnk6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY29va2luZzogZnVuY3Rpb24gY29va2luZyhwYXJhbU1lbnVOYW1lLCBpZCkgewogICAgICByb3V0ZXIucHVzaCgiL2Nvb2tpbmcvIi5jb25jYXQocGFyYW1NZW51TmFtZSwgIi8iKS5jb25jYXQoaWQpKTsKICAgICAgcm91dGVyLmdvKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tZW51cycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5hbGxNZW51ID0gcmVzLmRhdGE7IC8vIGNvbnNvbGUubG9nKHRoaXMuYWxsTWVudSkKICAgIH0pOwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvdXNlcicsIHsKICAgICAgaGVhZGVyczogewogICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMudXNlcm5hbWUgPSByZXMuZGF0YS51c2VyLnVzZXJuYW1lOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgcmVzdWx0UXVlcnk6IGZ1bmN0aW9uIHJlc3VsdFF1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlYXJjaFF1ZXJ5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWxsTWVudS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLmV2ZXJ5KGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLm1lbnVfbmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHYpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWxsTWVudTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["MenuPage-card.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,YAAA;AACA,IAAA,MAAA,GAAA,IAAA,MAAA,CAAA;AACA,EAAA,IAAA,EAAA;AADA,CAAA,CAAA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAKA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,aADA,EACA,EADA,EACA;AACA,MAAA,MAAA,CAAA,IAAA,oBAAA,aAAA,cAAA,EAAA;AACA,MAAA,MAAA,CAAA,EAAA;AACA;AAJA,GAXA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA,IAAA,KAAA,CACA,GADA,CACA,6BADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CADA,CAEA;AACA,KALA;AAOA,IAAA,KAAA,CAAA,GAAA,CAAA,4BAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,QAAA,KAAA,EAAA,YAAA,CAAA,OAAA,CAAA,OAAA;AAAA;AAAA,KAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAHA;AAIA,GA7BA;AA8BA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,KAAA,WAAA,EAAA;AACA,eAAA,KAAA,OAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,iBAAA,MAAA,CAAA,WAAA,CACA,WADA,GAEA,KAFA,CAEA,GAFA,EAGA,KAHA,CAGA,UAAA,CAAA;AAAA,mBAAA,IAAA,CAAA,SAAA,CAAA,WAAA,GAAA,QAAA,CAAA,CAAA,CAAA;AAAA,WAHA,CAAA;AAIA,SALA,CAAA;AAMA,OAPA,MAQA;AACA,eAAA,KAAA,OAAA;AACA;AACA;AAbA;AA9BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"pb-3\">\r\n    <b-row cols=\"4\">\r\n          <b-col>\r\n          <h1 :style=\"{ fontFamily: 'Athiti', fontSize: '70px'}\" >เมนูอาหาร</h1>\r\n          </b-col>\r\n          <b-col>\r\n          </b-col>\r\n          <b-col>\r\n          </b-col>\r\n          <b-col class=\"mt-3 ml-10\">\r\n          <b-row>\r\n          <b-col>\r\n          <span><b-form-input size=\"sm\" class=\"mr-sm-2 w-200 mt-3 mb-2\" style=\"font-family: Athiti\" placeholder=\"ค้นหาเมนูอาหาร\" v-model=\"searchQuery\">\r\n            <span>\r\n             <b-button size=\"sm\" class=\"mr-150\" :style=\"{backgroundColor: '#8A736C'}\">\r\n            <i class=\"fas fa-search\"></i>\r\n          </b-button>\r\n          </span></b-form-input></span>\r\n          </b-col>\r\n          \r\n          </b-row>\r\n          </b-col>\r\n        </b-row>\r\n\r\n                <b-row cols=\"4\" class=\"ml-5 justify-item-center\">\r\n                    <b-col v-for=\"menu in resultQuery\" :key=\"menu\">\r\n                        <div class=\"menu text-center\">\r\n                            <b-card\r\n                            :title= menu.menu_name\r\n                            :img-src=\"menu.pic_url\"\r\n                            style=\"max-width: 30rem;\"\r\n                            class=\"mb-2\"\r\n                        >\r\n                        <b-row>\r\n                         \r\n                          <b-col>\r\n                       <b-button size=\"sm\" @click=\"cooking(menu.menu_name, menu._id)\" id=\"menu.menu_name\" style=\"background-color:#8A736C\">สูตรอาหาร</b-button>\r\n                          </b-col>\r\n                        </b-row>\r\n                        </b-card>\r\n                            </div>\r\n                    </b-col>\r\n                </b-row>\r\n\r\n\r\n            </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Router from 'vue-router'\r\nconst router = new Router({\r\n    mode: \"history\"\r\n})\r\n\r\nexport default {\r\n    name: 'MenuPageCard',\r\n    components: {\r\n    },\r\n    data(){\r\n      return{\r\n          allMenu: [],\r\n          username: '',\r\n          searchQuery: ''\r\n      }\r\n  },\r\n  methods: {\r\n    cooking(paramMenuName, id){\r\n      router.push(`/cooking/${paramMenuName}/${id}`)\r\n      router.go()\r\n    },\r\n  },\r\n  mounted() {\r\n    axios\r\n    .get('http://localhost:8000/menus')\r\n    .then(res => {\r\n      this.allMenu = res.data\r\n      // console.log(this.allMenu)\r\n    })\r\n\r\n    axios.get('http://localhost:8000/user', {headers: {token: localStorage.getItem('token')}})\r\n        .then(res => {\r\n            this.username = res.data.user.username\r\n        })\r\n  },\r\n  computed: {\r\n    resultQuery(){\r\n      if(this.searchQuery){\r\n        return this.allMenu.filter(item => {\r\n          return this.searchQuery\r\n          .toLowerCase()\r\n          .split(\" \")\r\n          .every(v => item.menu_name.toLowerCase().includes(v))\r\n        })\r\n      }\r\n      else {\r\n        return this.allMenu\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.menu{\r\n    font-family: 'Athiti';\r\n}\r\n</style>"],"sourceRoot":"src/components/cards"}]}