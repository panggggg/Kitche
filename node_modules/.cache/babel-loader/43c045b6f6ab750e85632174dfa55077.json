{"remainingRequest":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\babel-loader\\lib\\index.js!D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\panggggg\\Workshop2\\kitche-project\\src\\components\\pages\\LoginPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\panggggg\\Workshop2\\kitche-project\\src\\components\\pages\\LoginPage.vue","mtime":1635499015504},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635510260447},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\babel-loader\\lib\\index.js","mtime":1635510265794},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635510260447},{"path":"D:\\panggggg\\Workshop2\\kitche-project\\node_modules\\vue-loader\\lib\\index.js","mtime":1635510266827}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BhbmdnZ2dnL1dvcmtzaG9wMi9raXRjaGUtcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5Igp9KTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGluZm86IHsKICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICBwYXNzd29yZDogbnVsbAogICAgICB9LAogICAgICBlcnJvcjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB1c2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVzZXIgPSB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpcy5pbmZvLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMuaW5mby5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9sb2dpbicsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXMuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi9ob21lIik7CiAgICAgICAgICAgICAgICAgICAgcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICByb3V0ZXIucHVzaCgiL3JlZ2lzdGVyIik7CiAgICAgIHJvdXRlci5nbygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["LoginPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,YAAA;AACA,IAAA,MAAA,GAAA,IAAA,MAAA,CAAA;AACA,EAAA,IAAA,EAAA;AADA,CAAA,CAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA;AACA,kBAAA,KAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA,IAAA,CAAA;AAFA,iBADA;AAAA;AAAA,uBAKA,KAAA,CAAA,IAAA,CAAA,6BAAA,EAAA,IAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,sBAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,oBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,oBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,oBAAA,MAAA,CAAA,IAAA;AACA,oBAAA,MAAA,CAAA,EAAA;AACA;AACA,iBARA,EASA,KATA,CASA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA;AACA,kBAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,iBAZA,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA,KArBA;AAsBA,IAAA,QAtBA,sBAsBA;AACA,MAAA,MAAA,CAAA,IAAA;AACA,MAAA,MAAA,CAAA,EAAA;AACA;AAzBA;AAXA,CAAA","sourcesContent":["<template>\r\n<div class=\"login container p-5\">\r\n   <div class=\"d-flex justify-content-center\">\r\n    <div class=\"card text-center\" style=\"border-radius: 25px;\" >\r\n    <div class=\"bgcard\" style=\"border-radius: 25px;\">\r\n  <div  class=\"card-body\" style=\"padding: 50px;\">\r\n  <h3 :style=\"{fontSize: '60px'}\">เข้าสู่ระบบ</h3><br>\r\n  <form>\r\n  <div class=\"mb-3\">\r\n  <label for=\"formGroupExampleInput\" style=\"font-size: 15pt\" class=\"form-label\">อีเมล</label><br>\r\n  <input type=\"text\" class=\"form-control\"  style=\"font-size: 18sm\" id=\"formGroupExampleInput\" placeholder=\"อีเมล\" require v-model=\"info.email\">\r\n</div>\r\n<div class=\"mb-3\" >\r\n  <label for=\"formGroupExampleInput2\" style=\"font-size: 15pt\" class=\"form-label\">รหัสผ่าน</label><br>\r\n  <input type=\"password\" class=\"form-control\" style=\"font-size: 18sm\" id=\"formGroupExampleInput2\" placeholder=\"รหัสผ่าน\" require v-model=\"info.password\">\r\n  <span style=\"font-size: 15px; color: #B9344C\" class=\"text-left\">{{error}}</span>\r\n</div>\r\n    <br>\r\n    <button class=\"bt\" type=\"button\" style=\"font-size: 12pt\" v-on:click=\"login\" >เข้าสู่ระบบ</button>\r\n    <br><br>\r\n    <button class=\"bt2\" type=\"button\" style=\"font-size: 12pt\" v-on:click=\"register\">สมัครสมาชิก</button>\r\n  </form>\r\n  </div>\r\n  </div>\r\n</div>\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport Router from 'vue-router'\r\nconst router = new Router({\r\n    mode: \"history\"\r\n})\r\nexport default { \r\n  name:\"Login\",\r\n  data() {\r\n    return {\r\n      info:{\r\n      email:null,\r\n      password:null,\r\n      },\r\n      error: ''\r\n    };\r\n  },\r\n  methods: {\r\n    async login(){\r\n      let user = {\r\n        email: this.info.email,\r\n        password: this.info.password\r\n      }\r\n      await axios.post('http://localhost:8000/login', user)\r\n      .then(res => {\r\n        if(res.status === 200){\r\n          console.log(res)\r\n          localStorage.setItem('token', res.data.token)\r\n          router.push(`/home`)\r\n          router.go()\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response)\r\n        this.error = err.response.data.error\r\n      })\r\n      // router.push(`/home`)\r\n      // router.go()\r\n    },\r\n    register(){\r\n      router.push(`/register`)\r\n      router.go()\r\n    }\r\n  },\r\n  \r\n}\r\n</script>\r\n<style>\r\n.bgcard {\r\n  background-color: #8A736C;\r\n  color:#FFFFFF;\r\n}\r\n.bt{ \r\n  background-color:#695853;\r\n  color: #FFFFFF;\r\n  border-radius: 15px;\r\n  padding: 10px;\r\n}\r\n.bt2{ \r\n  background-color:#AA575B;\r\n  color:#FFFFFF;\r\n  border-radius: 15px;\r\n  padding: 10px;\r\n}\r\n.login{\r\n   font-family: 'Athiti';\r\n}\r\n</style>"],"sourceRoot":"src/components/pages"}]}